<div class="backdrop">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add New Movie</h5>
                <button type="button" class="close" (click)="onClose()">
                    <span>&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="addForm" (ngSubmit)="onSubmit()">
                    <div class="form-group">
                        <label>Title:</label>
                        <input formControlName="title" type="text" class="form-control" placeholder="Movie Title">
                        <span
                        *ngIf="!addForm.get('title').valid && addForm.get('title').touched"
                        class="help-block">
                        <span class="error-text" *ngIf="addForm.get('title').errors['pattern']">Invalid title!</span>
                        <span class="error-text" *ngIf="addForm.get('title').errors['required']">This field is required!</span>                     
                        </span>
                        <span class="help-block">
                            <span class="error-text">{{ error }}</span>
                        </span> 
                    </div>
                    <div class="form-group row">
                        <div class="col">
                            <label>Year:</label>
                            <select formControlName="year" class="form-control">
                                <option *ngFor="let year of years" [value]="year">{{ year }}</option>
                            </select>
                            <span
                            *ngIf="!addForm.get('year').valid && addForm.get('year').touched"
                            class="help-block">
                            <span class="error-text" *ngIf="addForm.get('year').errors['required']">This field is required!</span>
                            </span>   
                        </div>
                        <div class="col">
                            <label>Runtime (minutes):</label>
                            <input formControlName="runtime" type="number" class="form-control" placeholder="Ex: 125">
                            <span
                            *ngIf="!addForm.get('runtime').valid && addForm.get('runtime').touched"
                            class="help-block">
                            <span class="error-text" *ngIf="addForm.get('runtime').errors['required']">This field is required!</span>
                            </span>  
                        </div>
                        
                    </div>
                    <div class="form-group">
                        <label>Director's Name:</label>
                        <input formControlName="director" type="text" class="form-control" placeholder="Director's Name">
                        <span
                            *ngIf="!addForm.get('director').valid && addForm.get('director').touched"
                            class="help-block">
                            <span class="error-text" *ngIf="addForm.get('director').errors['required']">This field is required!</span>
                            <span class="error-text" *ngIf="addForm.get('director').errors['pattern']">Invalid name!</span>
                        </span>  
                    </div>
                    <div class="form-group">
                        <label>Genre:</label>
                        <select formControlName="genre" class="form-control">
                            <option *ngFor="let item of genres" [value]="item">{{ item }}</option>
                        </select>
                        <span
                            *ngIf="!addForm.get('genre').valid && addForm.get('genre').touched"
                            class="help-block">
                            <span class="error-text" *ngIf="addForm.get('genre').errors['required']">This field is required!</span>
                        </span>  
                    </div>
                    <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" (click)="onClose()">Close</button>
                    <button type="submit" class="btn btn-success" [disabled] ="!addForm.valid">Submit</button>
                    
                    </div> 
                </form>
            </div>
        </div>
    </div>
</div>